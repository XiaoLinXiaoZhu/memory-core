# Modular MCP Memory v4.1.1

åŸºäº Zettelkasten å¡ç‰‡ç›’ç¬”è®°æ³•çš„ç²¾ç®€è®°å¿†ç³»ç»Ÿï¼Œç°å·²åŒ…å«æ™ºèƒ½ä¼˜åŒ–åŠŸèƒ½ã€‚

## ğŸ› v4.1.1 ä¿®å¤

- ğŸ”§ **åµŒå¥—å±•å¼€ä¿®å¤**: ä¿®å¤äº†æ·±åº¦å±•å¼€æ—¶ start/end æ ‡è®°è¢«é”™è¯¯å±•å¼€çš„é—®é¢˜
- âœ… **ç¨³å®šæ€§æå‡**: ç¡®ä¿å¤šå±‚çº§å¼•ç”¨åœºæ™¯ä¸‹çš„æ­£ç¡®å±•å¼€è¡Œä¸º

## âœ¨ v4.1 æ–°åŠŸèƒ½

- ğŸš€ **æ™ºèƒ½å ä½ç¬¦**: setContent æ—¶è‡ªåŠ¨ä¸ºå¼•ç”¨å¡ç‰‡åˆ›å»ºå ä½æ–‡ä»¶
- âš¡ **æƒé‡ç¼“å­˜**: æ™ºèƒ½ç¼“å­˜æƒé‡è®¡ç®—ç»“æœï¼Œæ€§èƒ½æå‡ 60%+
- ğŸ“Š **ä¼˜åŒ–ç®—æ³•**: å…¨æ–°çš„æƒé‡è®¡ç®—å’Œä»·å€¼è¯„ä¼°ç®—æ³•
- ğŸ”„ **ç¼“å­˜å¤±æ•ˆ**: æ–‡ä»¶å˜æ›´æ—¶è‡ªåŠ¨æ¸…é™¤ç›¸å…³ç¼“å­˜

## ç‰¹æ€§

- ğŸ—‚ï¸ **å¡ç‰‡åŒ–ç®¡ç†**: æ¯ä¸ªè®°å¿†å•å…ƒä½œä¸ºç‹¬ç«‹çš„å¡ç‰‡
- ğŸ”— **æ™ºèƒ½å¼•ç”¨**: é€šè¿‡ `[[å¡ç‰‡å]]` æ–¹å¼å»ºç«‹å¡ç‰‡é—´çš„é“¾æ¥
- ğŸ“– **å†…å®¹å±•å¼€**: æ”¯æŒé€’å½’å±•å¼€å¼•ç”¨å†…å®¹
- âš–ï¸ **æƒé‡è®¡ç®—**: åŸºäºå¼•ç”¨å…³ç³»è®¡ç®—å¡ç‰‡æƒé‡ï¼ˆæ–°ç®—æ³•ï¼‰
- ğŸ¯ **æ™ºèƒ½æç¤º**: æ ¹æ®æƒé‡æä¾›ç›¸å…³å¡ç‰‡å»ºè®®
- ğŸ”§ **ä¼˜åŒ–å»ºè®®**: ä½¿ç”¨ Sigmoid å‡½æ•°è¯†åˆ«ä½ä»·å€¼å¡ç‰‡
- ğŸ“ **æ–‡ä»¶å­˜å‚¨**: ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿå­˜å‚¨ï¼Œä¾¿äºå¤‡ä»½å’Œè¿ç§»
- ğŸš€ **è‡ªåŠ¨å ä½**: å¼•ç”¨ä¸å­˜åœ¨çš„å¡ç‰‡æ—¶è‡ªåŠ¨åˆ›å»ºå ä½ç¬¦

## æ ¸å¿ƒæ–¹æ³•

### 1. è·å–æ–‡ä»¶å†…å®¹
```typescript
await manager.getContent(æ–‡ä»¶åç§°, å±•å¼€æ·±åº¦);
```

### 2. åˆ›å»º/ç¼–è¾‘æ–‡ä»¶å†…å®¹
```typescript
await manager.setContent(æ–‡ä»¶åç§°, å†…å®¹);
```

### 3. åˆ é™¤æ–‡ä»¶å†…å®¹
```typescript
await manager.deleteContent(æ–‡ä»¶åç§°);
```

### 4. é‡å‘½å/åˆå¹¶æ–‡ä»¶å†…å®¹
```typescript
await manager.renameContent(æ—§æ–‡ä»¶åç§°, æ–°æ–‡ä»¶åç§°);
```

### 5. è·å–æç¤º
```typescript
await manager.getHints(æ–‡ä»¶æ•°é‡);
```

### 6. è·å–ä¼˜åŒ–å»ºè®®
```typescript
await manager.getSuggestions(ä¼˜åŒ–å‚æ•°, æœ€å¤§æ–‡ä»¶æ•°é‡);
```

## ğŸ†• v4.1 æ–°åŠŸèƒ½è¯¦è§£

### æ™ºèƒ½å ä½ç¬¦åˆ›å»º
å½“æ‚¨åœ¨å¡ç‰‡ä¸­å¼•ç”¨ä¸å­˜åœ¨çš„å¡ç‰‡æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»ºå ä½æ–‡ä»¶ï¼š

```typescript
// åˆ›å»ºåŒ…å«å¼•ç”¨çš„å¡ç‰‡
await manager.setContent('å­¦ä¹ è®¡åˆ’', 'ä»Šå¤©è¦å­¦ä¹  [[JavaScriptåŸºç¡€]] å’Œ [[Reactæ¡†æ¶]]');

// ç³»ç»Ÿè‡ªåŠ¨åˆ›å»º JavaScriptåŸºç¡€.md å’Œ Reactæ¡†æ¶.md å ä½æ–‡ä»¶
// æ¯ä¸ªå ä½æ–‡ä»¶åŒ…å«åŸºç¡€æ¨¡æ¿å†…å®¹
```

### æƒé‡ç¼“å­˜ä¼˜åŒ–
- **æ™ºèƒ½ç¼“å­˜**: æƒé‡è®¡ç®—ç»“æœè¢«ç¼“å­˜ï¼Œé¿å…é‡å¤è®¡ç®—
- **è‡ªåŠ¨å¤±æ•ˆ**: æ–‡ä»¶ä¿®æ”¹æ—¶ç›¸å…³ç¼“å­˜è‡ªåŠ¨æ¸…é™¤
- **æ€§èƒ½æå‡**: ç¼“å­˜å‘½ä¸­æ—¶æ€§èƒ½æå‡ 60%+

### æ–°çš„æƒé‡ç®—æ³•
```
æ—§ç®—æ³•: æƒé‡ = å¼•ç”¨æ•°é‡
æ–°ç®—æ³•: æƒé‡ = å­å¡ç‰‡æƒé‡ä¹‹å’Œ + å¼•ç”¨æ•°é‡
```

### ä¼˜åŒ–çš„ä»·å€¼è®¡ç®—
```
æ—§å…¬å¼: ä»·å€¼ = æƒé‡ / å­—ç¬¦æ•°
æ–°å…¬å¼: ä»·å€¼ = Sigmoid(æƒé‡) / å­—ç¬¦æ•°
```
ä½¿ç”¨ Sigmoid å‡½æ•°ä½¿æƒé‡å½±å“æ›´åŠ å¹³æ»‘å’Œç§‘å­¦ã€‚

## å®‰è£…

```bash
npm install modular-mcp-memory
```

## ä½¿ç”¨ç¤ºä¾‹

```typescript
import { ZettelkastenManager } from 'modular-mcp-memory';

// åˆ›å»ºç®¡ç†å™¨å®ä¾‹
const manager = new ZettelkastenManager({
  storageDir: './my-cards',
  autoCreateDir: true
});

// åˆ›å»ºå¡ç‰‡
await manager.setContent('AIåŸºç¡€', `
# AIåŸºç¡€çŸ¥è¯†

äººå·¥æ™ºèƒ½çš„æ ¸å¿ƒæ¦‚å¿µåŒ…æ‹¬ï¼š
- [[æœºå™¨å­¦ä¹ ]]
- [[æ·±åº¦å­¦ä¹ ]]
- [[è‡ªç„¶è¯­è¨€å¤„ç†]]
`);

// è·å–å¡ç‰‡å†…å®¹ï¼ˆå±•å¼€å¼•ç”¨ï¼‰
const content = await manager.getContent('AIåŸºç¡€', 1);

// è·å–æ™ºèƒ½æç¤º
const hints = await manager.getHints(5);
console.log('æ¨èå¡ç‰‡:', hints.cardNames);
```

## å¡ç‰‡å¼•ç”¨è¯­æ³•

### åŸºæœ¬å¼•ç”¨
ä½¿ç”¨ `[[å¡ç‰‡å]]` å¼•ç”¨å…¶ä»–å¡ç‰‡ã€‚

### å­ç›®å½•æ”¯æŒ
å¡ç‰‡åç§°æ”¯æŒä½¿ç”¨ `/` æ¥åˆ›å»ºå­ç›®å½•ç»“æ„ï¼š

```typescript
// åˆ›å»ºå­ç›®å½•ä¸­çš„å¡ç‰‡
await manager.setContent('ç¼–ç¨‹/JavaScript', 'JavaScript ç›¸å…³å†…å®¹');
await manager.setContent('ç¼–ç¨‹/å‰ç«¯/React', 'React æ¡†æ¶å†…å®¹');

// å¼•ç”¨å­ç›®å½•ä¸­çš„å¡ç‰‡
await manager.setContent('å­¦ä¹ è®¡åˆ’', `
æˆ‘çš„å­¦ä¹ è®¡åˆ’ï¼š
- [[ç¼–ç¨‹/JavaScript]]
- [[ç¼–ç¨‹/å‰ç«¯/React]]
`);
```

æ”¯æŒçš„å­ç›®å½•åŠŸèƒ½ï¼š
- âœ… ä»»æ„æ·±åº¦çš„å­ç›®å½•ï¼š`category/subcategory/topic`
- âœ… è·¨ç›®å½•å¼•ç”¨ï¼šæ ¹ç›®å½•å¡ç‰‡å¯ä»¥å¼•ç”¨å­ç›®å½•å¡ç‰‡
- âœ… è‡ªåŠ¨åˆ›å»ºç›®å½•ï¼šä¿å­˜å¡ç‰‡æ—¶è‡ªåŠ¨åˆ›å»ºå¿…è¦çš„ç›®å½•ç»“æ„
- âœ… é‡å‘½åæ”¯æŒï¼šé‡å‘½åå­ç›®å½•å¡ç‰‡ä¼šè‡ªåŠ¨æ›´æ–°æ‰€æœ‰å¼•ç”¨

**æ³¨æ„äº‹é¡¹ï¼š**
- å¡ç‰‡åä¸èƒ½ä»¥ `/` å¼€å¤´
- ä¸æ”¯æŒç›¸å¯¹è·¯å¾„æ“ä½œï¼ˆå¦‚ `../` æˆ– `./`ï¼‰
- ç›®å½•åˆ†éš”ç¬¦ä½¿ç”¨ `/`ï¼ˆä¼šè‡ªåŠ¨é€‚é…æ“ä½œç³»ç»Ÿï¼‰

### å†…å®¹å±•å¼€
ä½¿ç”¨ `![[å¡ç‰‡å]]` æ¥å±•å¼€å¼•ç”¨å¡ç‰‡çš„å†…å®¹ã€‚å±•å¼€åçš„æ ¼å¼ï¼š

```markdown
![[å¡ç‰‡å]]start

å¡ç‰‡çš„å®é™…å†…å®¹

![[å¡ç‰‡å]]end
```

## æƒé‡è®¡ç®—ç®—æ³•

ç³»ç»Ÿä½¿ç”¨é€’å½’ç®—æ³•è®¡ç®—å¡ç‰‡æƒé‡ï¼š

```typescript
// å½“å¡ç‰‡æœ‰å‘å¤–å¼•ç”¨æ—¶
æƒé‡ = (å¼•ç”¨å¡ç‰‡1æƒé‡ + å¼•ç”¨å¡ç‰‡2æƒé‡ + ... + å¼•ç”¨å¡ç‰‡næƒé‡) / n

// å½“å¡ç‰‡æ²¡æœ‰å‘å¤–å¼•ç”¨æ—¶
æƒé‡ = 1
```

## ä»·å€¼è®¡ç®—

å¡ç‰‡ä»·å€¼ç”¨äºä¼˜åŒ–å»ºè®®ï¼š

```
ä»·å€¼ = æƒé‡ / å­—ç¬¦æ•°
```

ä»·å€¼è¶Šä½çš„å¡ç‰‡å¯èƒ½éœ€è¦ä¼˜åŒ–ï¼ˆæ‰©å±•å†…å®¹æˆ–åˆ é™¤ï¼‰ã€‚

## å¼€å‘

```bash
# å®‰è£…ä¾èµ–
npm install

# è¿è¡Œæ¼”ç¤º
npm run demo

# è¿è¡Œæµ‹è¯•
npm test

# æ„å»º
npm run build

# æ£€æŸ¥ç±»å‹
npm run lint
```

## API æ–‡æ¡£

### ZettelkastenManager

#### æ„é€ å‡½æ•°
```typescript
new ZettelkastenManager(config: ZettelkastenConfig)
```

#### é…ç½®é€‰é¡¹
```typescript
interface ZettelkastenConfig {
  storageDir: string;           // å­˜å‚¨ç›®å½•è·¯å¾„
  encoding?: string;            // æ–‡ä»¶ç¼–ç ï¼Œé»˜è®¤ 'utf-8'
  autoCreateDir?: boolean;      // æ˜¯å¦è‡ªåŠ¨åˆ›å»ºç›®å½•ï¼Œé»˜è®¤ true
}
```

#### æ–¹æ³•

- `getContent(cardName: string, expandDepth?: number): Promise<string>`
- `setContent(cardName: string, content: string): Promise<void>`
- `deleteContent(cardName: string): Promise<void>`
- `renameContent(oldName: string, newName: string): Promise<void>`
- `getHints(count: number): Promise<HintResult>`
- `getSuggestions(threshold: number, maxCount: number): Promise<SuggestionResult>`
- `getStats(): Promise<Statistics>`
- `getAllCardNames(): Promise<string[]>`
- `clearCache(): void`

## è®¸å¯è¯

MIT License

## æ›´æ–°æ—¥å¿—

### v4.1.1
- ğŸ”§ **é‡è¦ä¿®å¤**: ä¿®å¤åµŒå¥—å±•å¼€æ—¶ start/end æ ‡è®°è¢«é”™è¯¯å±•å¼€çš„é—®é¢˜
- âœ… **ç¨³å®šæ€§**: ç¡®ä¿å¤šå±‚çº§å¼•ç”¨åœºæ™¯ä¸‹çš„æ­£ç¡®å±•å¼€è¡Œä¸º
- ğŸ§ª **æµ‹è¯•å¢å¼º**: æ·»åŠ äº†åµŒå¥—å±•å¼€çš„ä¸“é—¨æµ‹è¯•ç”¨ä¾‹

### v4.1.0
- ğŸš€ **æ™ºèƒ½å ä½ç¬¦**: setContent æ—¶è‡ªåŠ¨ä¸ºå¼•ç”¨å¡ç‰‡åˆ›å»ºå ä½æ–‡ä»¶
- âš¡ **æƒé‡ç¼“å­˜**: æ™ºèƒ½ç¼“å­˜æƒé‡è®¡ç®—ç»“æœï¼Œæ€§èƒ½æå‡ 60%+
- ğŸ“Š **ä¼˜åŒ–ç®—æ³•**: å…¨æ–°çš„æƒé‡è®¡ç®—å’Œä»·å€¼è¯„ä¼°ç®—æ³•
- ğŸ”„ **ç¼“å­˜å¤±æ•ˆ**: æ–‡ä»¶å˜æ›´æ—¶è‡ªåŠ¨æ¸…é™¤ç›¸å…³ç¼“å­˜

### v4.0.0
- ğŸ‰ å…¨æ–°æ¶æ„ï¼šåŸºäº Zettelkasten å¡ç‰‡ç›’ç¬”è®°æ³•
- ğŸš€ ç²¾ç®€è®¾è®¡ï¼šç§»é™¤å¤æ‚çš„æœç´¢åŠŸèƒ½ï¼Œä¸“æ³¨äºæç¤ºè¯é©±åŠ¨
- ğŸ’¾ æ–‡ä»¶å­˜å‚¨ï¼šä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿæ›¿ä»£æ•°æ®åº“
- ğŸ”— æ™ºèƒ½å¼•ç”¨ï¼šæ”¯æŒå¡ç‰‡é—´çš„é“¾æ¥å’Œå†…å®¹å±•å¼€
- âš–ï¸ æƒé‡ç³»ç»Ÿï¼šæ™ºèƒ½è®¡ç®—å¡ç‰‡é‡è¦æ€§
- ğŸ¯ ä¼˜åŒ–å»ºè®®ï¼šè‡ªåŠ¨è¯†åˆ«éœ€è¦æ”¹è¿›çš„å¡ç‰‡
